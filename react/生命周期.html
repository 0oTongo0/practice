<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/react.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/react-dom.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/browser.min.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="root"></div>
	</body>
	<script type="text/babel">
		class Heder extends React.Component{
			constructor(){
				super()
				this.state = {
					show:true
				}
			}
			no(){
				this.setState({
					show:!this.state.show
				})
			}
			render(){
				return(
					<div>
						{this.state.show ? <Clock/> :null}
				        <button onClick={this.no.bind(this)}>
				          显示或者隐藏标题
				        </button>
					</div>
				)
			}
		}
		
		class Clock extends React.Component{
			constructor(){
				super()
				this.state = {
					data:new Date()
				}
			}
//			组件加载完成
			componentWillMount(){
				this.timer = setInterval(() =>{
					this.setState({
						data:new Date()
					})
				},1000)
			}
			//清空组件
			componentWillUnmount (){
				clearInterval(this.timer)
			}
			render(){
				return(
					<div>
						{this.state.data.toLocaleTimeString()}
					</div>
				)
			}
		}
		ReactDOM.render(
			<Heder/>,
			document.getElementById('root')
		)
	</script>
</html>
